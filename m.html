<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÊûÅÁÆÄÊ≠åËØçÈü≥‰πêÊí≠ÊîæÂô®</title>
    <style>
      :root {
        /* Êó•Èó¥Ê®°ÂºèÂèòÈáè */
        --bg-color: #f5f5f5;
        --text-color: #333;
        --panel-bg: rgba(245, 245, 245, 0.9);
        --progress-bg: rgba(0, 0, 0, 0.1);
        --progress-color: #4a8cff;
        --control-btn-hover: rgba(0, 0, 0, 0.05);
        --playlist-bg: rgba(245, 245, 245, 0.9);
        --playlist-item-hover: rgba(0, 0, 0, 0.05);
        --playlist-active: rgba(74, 140, 255, 0.15);
        --lyrics-bg: rgba(0, 0, 0, 0.03);
        --lyrics-color: #666;
        --lyrics-active: #333;
        --album-art-bg: linear-gradient(135deg, #dedede, #b6b6b6);
        ;
        --timer-color: #777;
      }

      .dark-mode {
        /* Â§úÈó¥Ê®°ÂºèÂèòÈáè */
        --bg-color: #121212;
        --text-color: #fff;
        --panel-bg: rgba(18, 18, 18, 0.9);
        --progress-bg: rgba(255, 255, 255, 0.1);
        --progress-color: #4a8cff;
        --control-btn-hover: rgba(255, 255, 255, 0.1);
        --playlist-bg: rgba(20, 20, 20, 0.8);
        --playlist-item-hover: rgba(255, 255, 255, 0.05);
        --playlist-active: rgba(74, 140, 255, 0.15);
        --lyrics-bg: rgba(255, 255, 255, 0.03);
        --lyrics-color: #aaa;
        --lyrics-active: #fff;
        --album-art-bg: linear-gradient(135deg, #803608, #3b0a03);
        --timer-color: #aaa;
      }

      * {
        margin: 0;
        box-sizing: border-box;
      }

      body {
        background: var(--bg-color);
        color: var(--text-color);
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 20px;
        transition: background 0.3s ease, color 0.3s ease;
      }

      .player-main {
        flex: 1;
        padding: 30px;
        display: flex;
        flex-direction: column;
        align-items: center;
        position: relative;
        background: var(--panel-bg);
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        transition: background 0.3s ease;
      }

      .album-art {
        width: 180px;
        height: 180px;
        margin-bottom: 20px;
        border-radius: 50%;
        overflow: hidden;
        animation: rotate 10s linear infinite;
        animation-play-state: paused;
        position: relative;
        background: var(--album-art-bg);
        transition: background 0.3s ease;
      }

      .album-art.playing {
        animation-play-state: running;
      }

      .album-art::after {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 40px;
        height: 40px;
        background: var(--bg-color);
        border-radius: 50%;
        z-index: 1;
        transition: background 0.3s ease;
      }

      .song-info {
        text-align: center;
        margin-bottom: 20px;
        width: 100%;
      }

      .song-title {
        font-size: 22px;
        font-weight: 600;
        margin-bottom: 5px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .progress-area {
        width: 100%;
        margin-bottom: 20px;
      }

      .progress-bar {
        height: 6px;
        width: 100%;
        background: var(--progress-bg);
        border-radius: 3px;
        cursor: pointer;
        margin-bottom: 5px;
        position: relative;
        transition: background 0.3s ease;
      }

      .progress {
        height: 100%;
        width: 0%;
        background: var(--progress-color);
        border-radius: 3px;
        position: relative;
        transition: width 0.1s linear;
      }

      .progress::after {
        content: '';
        position: absolute;
        right: -5px;
        top: 50%;
        transform: translateY(-50%);
        width: 12px;
        height: 12px;
        background: var(--text-color);
        border-radius: 50%;
        opacity: 0;
        transition: opacity 0.2s, background 0.3s ease;
      }

      .progress-bar:hover .progress::after,
      .progress-bar.dragging .progress::after {
        opacity: 1;
      }

      .timer {
        display: flex;
        justify-content: space-between;
        font-size: 12px;
        color: var(--timer-color);
        transition: color 0.3s ease;
      }

      .controls {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 20px;
        margin-bottom: 30px;
      }

      .control-btn {
        background: none;
        border: none;
        color: var(--text-color);
        font-size: 18px;
        cursor: pointer;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        transition: all 0.3s;
      }

      .control-btn:hover {
        background: var(--control-btn-hover);
      }

      .play-pause {
        width: 60px;
        height: 60px;
        background: var(--progress-color);
        color: white;
      }

      .play-pause:hover {
        transform: scale(1.05);
      }

      .loop-btn {
        color: var(--timer-color);
        transition: color 0.3s;
      }

      .loop-btn.active {
        color: var(--progress-color);
      }

      .playlist-section {
        width: 400px;
        background: var(--playlist-bg);
        padding: 20px 15px;
        overflow-y: auto;
        border-radius: 15px;
        margin-left: 20px;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        transition: background 0.3s ease;
      }

      .playlist-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
        padding-bottom: 10px;
        border-bottom: 1px solid var(--progress-bg);
      }

      .playlist {
        height: 432px;
      }

      .playlist::-webkit-scrollbar {
        width: 0;
      }

      .playlist-title {
        font-size: 18px;
        font-weight: 600;
      }

      .playlist-count {
        font-size: 14px;
        color: var(--timer-color);
        transition: color 0.3s ease;
      }

      .playlist-item {
        padding: 12px 15px;
        border-radius: 5px;
        cursor: pointer;
        transition: all 0.3s;
        display: flex;
        align-items: center;
        gap: 12px;
        margin-bottom: 8px;
      }

      .playlist-item:hover {
        background: var(--playlist-item-hover);
      }

      .playlist-item.active {
        background: var(--playlist-active);
      }

      .playlist-item .song-details {
        font-size: 14px;
        margin-bottom: 3px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        flex: 1;
      }

      .playlist-item .song-details:before {
        content: "üéµ ";
        font-family: 'Segoe UI Symbol';
      }

      .playlist-item .duration {
        font-size: 12px;
        color: var(--timer-color);
        transition: color 0.3s ease;
      }

      /* Ê≠åËØçÂå∫ÂüüÊ†∑Âºè */
      .lyrics-container {
        width: 100%;
        height: 180px;
        overflow-y: auto;
        text-align: center;
        padding: 10px 0 0;
        border-radius: 8px;
        background: var(--lyrics-bg);
        border-bottom: 10px rgba(0, 0, 0, 0) solid;
        transition: background 0.3s ease;
      }

      .lyrics-container::-webkit-scrollbar {
        width: 0;
      }

      .lyrics-line {
        font-size: 16px;
        line-height: 2;
        color: var(--lyrics-color);
        transition: color 0.3s, font-size 0.3s;
        padding: 2px 0;
      }

      .lyrics-line.active {
        color: var(--lyrics-active);
        font-size: 18px;
        font-weight: 600;
      }

      .lyrics-placeholder {
        color: var(--lyrics-color);
        font-style: italic;
        padding: 20px;
        transition: color 0.3s ease;
      }

      /* Èü≥ÈáèÊéßÂà∂Ê†∑Âºè */
      .volume-control {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-left: 10px;
      }

      .volume-btn {
        width: 40px;
        height: 40px;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        font-size: 20px;
      }

      .volume-slider-container {
        width: 80px;
        height: 30px;
        display: flex;
        align-items: center;
      }

      .volume-slider {
        -webkit-appearance: none;
        width: 100%;
        height: 4px;
        border-radius: 2px;
        background: var(--progress-bg);
        outline: none;
        cursor: pointer;
        transition: background 0.3s ease;
      }

      .volume-slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 12px;
        height: 12px;
        border-radius: 50%;
        background: var(--progress-color);
        cursor: pointer;
        transition: background 0.3s;
      }

      .volume-slider::-moz-range-thumb {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        background: var(--progress-color);
        cursor: pointer;
        border: none;
        transition: background 0.3s;
      }

      /* ‰∏ªÈ¢òÂàáÊç¢ÊåâÈíÆ */
      .theme-toggle {
        position: absolute;
        top: 20px;
        right: 20px;
        background: none;
        border: none;
        font-size: 24px;
        cursor: pointer;
        color: var(--text-color);
        transition: color 0.3s ease, transform 0.3s ease;
      }

      .theme-toggle:hover {
        transform: rotate(30deg);
      }

      @keyframes rotate {
        from {
          transform: rotate(0deg);
        }

        to {
          transform: rotate(360deg);
        }
      }
    </style>
  </head>
  <body class="dark-mode">
    <button class="theme-toggle" style="font-family: 'Segoe UI Symbol'" id="theme-toggle">üåô</button>

    <div class="player-main">
      <div class="album-art"></div>

      <div class="song-info">
        <h2 class="song-title">Â∞±ËÆ©‰∏ÄÂàáÈöèÈ£é</h2>
      </div>

      <div class="progress-area">
        <div class="progress-bar">
          <div class="progress"></div>
        </div>
        <div class="timer">
          <span class="current-time">0:00</span>
          <span class="max-duration">0:00</span>
        </div>
      </div>

      <div class="controls">
        <button class="control-btn loop-btn" style="font-family: 'Segoe UI Symbol'" title="Âæ™ÁéØÊí≠Êîæ">
          üîÅ
        </button>
        <button class="control-btn prev-btn" title="‰∏ä‰∏ÄÊõ≤">
          ‚èÆ
        </button>
        <button class="control-btn play-pause" title="Êí≠Êîæ">
          ‚ñ∂
        </button>
        <button class="control-btn next-btn" title="‰∏ã‰∏ÄÊõ≤">
          ‚è≠
        </button>

        <!-- Èü≥ÈáèÊéßÂà∂ -->
        <div class="volume-control">
          <button class="control-btn volume-btn" style="font-family: 'Segoe UI Symbol'" title="Èü≥Èáè">üîä</button>
          <div class="volume-slider-container">
            <input type="range" class="volume-slider" min="0" max="1" step="0.01" value="1">
          </div>
        </div>
      </div>

      <div class="lyrics-container">
        <div class="lyrics-placeholder">Ê≠åËØçÂä†ËΩΩ‰∏≠...</div>
      </div>
    </div>

    <div class="playlist-section">
      <div class="playlist-header">
        <div class="playlist-title">Êí≠ÊîæÂàóË°®</div>
        <div class="playlist-count">1È¶ñÊ≠åÊõ≤</div>
      </div>

      <div class="playlist">
        <li class="playlist-item active">
          <div class="song-details">
            <div class="song-name">Â∞±ËÆ©‰∏ÄÂàáÈöèÈ£é</div>
          </div>
          <div class="duration">4:30</div>
        </li>
      </div>
    </div>

    <audio id="audio-player"></audio>

    <script>
      document.addEventListener('DOMContentLoaded', function() {
        // Ëé∑ÂèñDOMÂÖÉÁ¥†
        const audioPlayer = document.getElementById('audio-player');
        const albumArt = document.querySelector('.album-art');
        const playPauseBtn = document.querySelector('.play-pause');
        const prevBtn = document.querySelector('.prev-btn');
        const nextBtn = document.querySelector('.next-btn');
        const loopBtn = document.querySelector('.loop-btn');
        const progressBar = document.querySelector('.progress-bar');
        const progress = document.querySelector('.progress');
        const currentTimeEl = document.querySelector('.current-time');
        const maxDurationEl = document.querySelector('.max-duration');
        const lyricsContainer = document.querySelector('.lyrics-container');
        const songTitle = document.querySelector('.song-title');
        const playlistEl = document.querySelector('.playlist');
        const playlistCountEl = document.querySelector('.playlist-count');

        // Èü≥ÈáèÊéßÂà∂ÂÖÉÁ¥†
        const volumeBtn = document.querySelector('.volume-btn');
        const volumeSlider = document.querySelector('.volume-slider');

        // ‰∏ªÈ¢òÂàáÊç¢ÂÖÉÁ¥†
        const themeToggle = document.getElementById('theme-toggle');
        const body = document.body;

        let lyricsLines;

        let songList = [];
        let currentSongIndex = 0;

        // ÂàùÂßãÂåñ‰∏ªÈ¢ò
        function initTheme() {
          const savedTheme = localStorage.getItem('theme');
          if (savedTheme === 'light') {
            body.classList.remove('dark-mode');
            themeToggle.textContent = '‚óèÔ∏è';
          } else {
            body.classList.add('dark-mode');
            themeToggle.textContent = 'üåô';
          }
        }

        // ÂàáÊç¢‰∏ªÈ¢ò
        function toggleTheme() {
          if (body.classList.contains('dark-mode')) {
            body.classList.remove('dark-mode');
            localStorage.setItem('theme', 'light');
            themeToggle.textContent = '‚óèÔ∏è';
          } else {
            body.classList.add('dark-mode');
            localStorage.setItem('theme', 'dark');
            themeToggle.textContent = 'üåô';
          }
        }

        // ‰∏ªÈ¢òÂàáÊç¢‰∫ã‰ª∂
        themeToggle.addEventListener('click', toggleTheme);

        function formatTime(s) {
          const minutes = Math.floor(s / 60);
          const remainingSeconds = s % 60;
          const formattedMinutes = String(minutes).padStart(2, '0');
          const formattedSeconds = String(remainingSeconds).padStart(2, '0');
          return `${formattedMinutes} : ${formattedSeconds}`;
        }
        // Ëé∑ÂèñÊ≠åÂçïÊï∞ÊçÆ
        fetch("music/songs.json")
          .then(response => {
            if (!response.ok) {
              throw new Error('ÁΩëÁªúÂìçÂ∫î‰∏çÊ≠£Â∏∏');
            }
            return response.json();
          })
          .then(songs => {
            songList = songs;
            playlistCountEl.textContent = `${songList.length}È¶ñÊ≠åÊõ≤`;

            // Ê∏ÖÁ©∫Êí≠ÊîæÂàóË°®
            playlistEl.innerHTML = '';

            // ÁîüÊàêÊí≠ÊîæÂàóË°®È°π
            songList.forEach((song, index) => {
              const li = document.createElement('li');
              li.className = 'playlist-item';
              if (index === currentSongIndex) {
                li.classList.add('active');
              }

              li.innerHTML = `
                            <div class="song-details">${song.song_name}</div>
                            <div class="duration">${formatTime(song.duration)}</div>
                        `;

              li.addEventListener('click', () => {
                currentSongIndex = index;
                loadSong(currentSongIndex);
                updatePlaylistHighlight();
              });

              playlistEl.appendChild(li);
            });

            // Âä†ËΩΩÁ¨¨‰∏ÄÈ¶ñÊ≠å
            loadSong(currentSongIndex);
          })
          .catch(error => {
            playlistCountEl.textContent = 'Ëé∑ÂèñÊ≠åÂçïÂ§±Ë¥•';
          });

        function parseLrc(lrcString) {
          const lines = lrcString.split('\n');
          const lyrics = [];
          for (const line of lines) {
            const match = line.match(/^\[(\d{2}):(\d{2}\.\d+)\](.*)/);
            if (match) {
              const minutes = parseInt(match[1]);
              const seconds = parseFloat(match[2]);
              const time = minutes * 60 + seconds;
              const text = match[3].trim();
              if (text) {
                lyrics.push({
                  time,
                  text
                });
              }
            }
          }
          return lyrics;
        }

        function loadSong(index) {
          const song = songList[index];
          fetch(`music/${song.lrc_file}`)
            .then(response => {
              if (!response.ok) {
                throw new Error('Ê≠åËØçÂä†ËΩΩÂ§±Ë¥•');
              }
              return response.text();
            })
            .then(lrcText => {
              const songData = {
                title: song.song_name,
                artist: "",
                src: `music/${song.mp3_file}`,
                lyrics: parseLrc(lrcText)
              };

              initPlayer(songData);
            })
            .catch(error => {
              console.error('Âä†ËΩΩÊ≠åËØçÂ§±Ë¥•:', error);
              const songData = {
                title: song.song_name,
                artist: "",
                src: `music/${song.mp3_file}`,
                lyrics: []
              };

              initPlayer(songData);
            });
        }

        function initPlayer(songData) {
          songTitle.textContent = songData.title;
          // ËÆæÁΩÆÈü≥È¢ëÊ∫ê
          audioPlayer.src = songData.src;
          audioPlayer.load();
          // Ê∏≤ÊüìÊ≠åËØç
          renderLyrics(songData.lyrics);

          // Êõ¥Êñ∞Êí≠ÊîæÂàóË°®È´ò‰∫Æ
          updatePlaylistHighlight();
        }

        // Êõ¥Êñ∞Êí≠ÊîæÂàóË°®È´ò‰∫Æ
        function updatePlaylistHighlight() {
          const items = document.querySelectorAll('.playlist-item');
          items.forEach((item, index) => {
            if (index === currentSongIndex) {
              item.classList.add('active');
            } else {
              item.classList.remove('active');
            }
          });
        }

        // Ê∏≤ÊüìÊ≠åËØç
        function renderLyrics(lyrics) {
          lyricsContainer.innerHTML = '';

          if (lyrics.length === 0) {
            const placeholder = document.createElement('div');
            placeholder.className = 'lyrics-placeholder';
            placeholder.textContent = 'ÊöÇÊó†Ê≠åËØç';
            lyricsContainer.appendChild(placeholder);
            return;
          }

          lyrics.forEach(item => {
            const lineEl = document.createElement('div');
            lineEl.className = 'lyrics-line';
            lineEl.setAttribute('data-time', item.time);
            lineEl.textContent = item.text;
            lyricsContainer.appendChild(lineEl);
          });
          lyricsLines = document.querySelectorAll('.lyrics-line');
        }

        // Êõ¥Êñ∞Ê≠åËØçÈ´ò‰∫Æ
        let lastLine = -1;
        let activeLine = 0;

        function updateLyricsHighlight(currentTime) {
          if (lyricsLines.length === 0) return;

          // ÊâæÂà∞ÂΩìÂâçÊó∂Èó¥ÂØπÂ∫îÁöÑÊ≠åËØçË°å
          for (let i = 0; i < lyricsLines.length; i++) {
            const lineTime = parseFloat(lyricsLines[i].getAttribute('data-time'));
            if (currentTime >= lineTime) {
              activeLine = i;
            } else {
              break;
            }
          }
          // Êõ¥Êñ∞Ê≠åËØçË°åÁä∂ÊÄÅ
          if (activeLine !== lastLine) {
            lyricsLines.forEach((line, index) => {
              if (index === activeLine) {
                line.classList.add('active');
                // ÊªöÂä®Âà∞ÂΩìÂâçÊ≠åËØçË°å
                const lineRect = line.getBoundingClientRect();
                const containerRect = lyricsContainer.getBoundingClientRect();
                const scrollDelta = lineRect.top + lineRect.height / 2 - containerRect.top - containerRect
                  .height / 2;
                lyricsContainer.scrollTo({
                  top: lyricsContainer.scrollTop + scrollDelta,
                  behavior: 'smooth'
                });
              } else {
                line.classList.remove('active');
              }
            });
            lastLine = activeLine;
          }
        }

        // Êí≠Êîæ/ÊöÇÂÅú
        function togglePlayPause() {
          audioPlayer.setAttribute("autoplay", "");
          if (audioPlayer.paused) {
            audioPlayer.play();
            albumArt.classList.add('playing');
            playPauseBtn.innerHTML = '‚è∏';
          } else {
            audioPlayer.pause();
            albumArt.classList.remove('playing');
            playPauseBtn.innerHTML = '‚ñ∂';
          }
        }

        // ‰∏ä‰∏ÄÊõ≤
        function playPrevious() {
          currentSongIndex = (currentSongIndex - 1 + songList.length) % songList.length;
          loadSong(currentSongIndex);
        }

        // ‰∏ã‰∏ÄÊõ≤
        function playNext() {
          currentSongIndex = (currentSongIndex + 1) % songList.length;
          loadSong(currentSongIndex);
        }

        // ÂàáÊç¢Âæ™ÁéØ
        function toggleLoop() {
          audioPlayer.loop = !audioPlayer.loop;
          loopBtn.classList.toggle('active', audioPlayer.loop);
        }

        // Êõ¥Êñ∞ËøõÂ∫¶
        function updateProgress() {
          const currentTime = audioPlayer.currentTime;
          const duration = audioPlayer.duration || 0;

          // Êõ¥Êñ∞ËøõÂ∫¶Êù°
          const progressPercent = duration ? (currentTime / duration) * 100 : 0;
          progress.style.width = `${progressPercent}%`;

          // Êõ¥Êñ∞Êó∂Èó¥ÊòæÁ§∫
          currentTimeEl.textContent = formatTime(currentTime);

          // Êõ¥Êñ∞Ê≠åËØçÈ´ò‰∫Æ
          updateLyricsHighlight(currentTime);
        }

        // Êõ¥Êñ∞ÊÄªÊó∂Èïø
        function updateDuration() {
          maxDurationEl.textContent = formatTime(audioPlayer.duration || 0);
        }

        // Ê≠åÊõ≤ÁªìÊùü
        function onSongEnd() {
          if (audioPlayer.loop) {
            audioPlayer.currentTime = 0;
            audioPlayer.play();
          } else {
            playNext();
          }
        }

        // ËøõÂ∫¶Êù°ÁÇπÂáªË∑≥ËΩ¨
        function seek(e) {
          const rect = progressBar.getBoundingClientRect();
          const percent = (e.clientX - rect.left) / rect.width;
          audioPlayer.currentTime = percent * audioPlayer.duration;
        }

        // Ê†ºÂºèÂåñÊó∂Èó¥
        function formatTime(seconds) {
          const min = Math.floor(seconds / 60);
          const sec = Math.floor(seconds % 60);
          return `${min}:${sec < 10 ? '0' : ''}${sec}`;
        }

        // Èü≥ÈáèÊéßÂà∂ÂáΩÊï∞
        function setupVolumeControl() {
          // ÂàùÂßãÈü≥ÈáèËÆæÁΩÆ
          audioPlayer.volume = volumeSlider.value;

          // Èü≥ÈáèÊªëÂùó‰∫ã‰ª∂
          volumeSlider.addEventListener('input', function() {
            audioPlayer.volume = this.value;
            updateVolumeIcon();
          });

          // Èü≥ÈáèÊåâÈíÆÁÇπÂáª‰∫ã‰ª∂ - ÈùôÈü≥/ÂèñÊ∂àÈùôÈü≥
          volumeBtn.addEventListener('click', function() {
            if (audioPlayer.volume > 0) {
              // ‰øùÂ≠òÂΩìÂâçÈü≥ÈáèÂπ∂ËÆæÁΩÆ‰∏∫0
              volumeSlider.dataset.prevVolume = audioPlayer.volume;
              audioPlayer.volume = 0;
              volumeSlider.value = 0;
            } else {
              // ÊÅ¢Â§ç‰πãÂâçÁöÑÈü≥Èáè
              audioPlayer.volume = volumeSlider.dataset.prevVolume || 0.7;
              volumeSlider.value = audioPlayer.volume;
            }
            updateVolumeIcon();
          });
        }

        // Êõ¥Êñ∞Èü≥ÈáèÂõæÊ†á
        function updateVolumeIcon() {
          if (audioPlayer.volume === 0) {
            volumeBtn.innerHTML = 'üîá';
          } else if (audioPlayer.volume < 0.5) {
            volumeBtn.innerHTML = 'üîà';
          } else {
            volumeBtn.innerHTML = 'üîä';
          }
        }

        // ‰∫ã‰ª∂ÁõëÂê¨
        playPauseBtn.addEventListener('click', togglePlayPause);
        prevBtn.addEventListener('click', playPrevious);
        nextBtn.addEventListener('click', playNext);
        loopBtn.addEventListener('click', toggleLoop);
        progressBar.addEventListener('click', seek);

        audioPlayer.addEventListener('timeupdate', updateProgress);
        audioPlayer.addEventListener('loadedmetadata', updateDuration);
        audioPlayer.addEventListener('ended', onSongEnd);

        // ÂàùÂßãÂåñÈü≥ÈáèÊéßÂà∂
        setupVolumeControl();

        // ÂàùÂßãÂåñ‰∏ªÈ¢ò
        initTheme();
      });
    </script>
  </body>
</html>